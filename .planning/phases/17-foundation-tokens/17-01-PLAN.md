---
phase: 17-foundation-tokens
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/styles/app.css
autonomous: true

must_haves:
  truths:
    - "Plus Jakarta Sans renders for body text (not system fonts)"
    - "Lora renders for serif accents (not system fonts)"
    - "Warm cream/coral colors are available as Tailwind utilities"
    - "Fluid typography scales appropriately between mobile (320px) and desktop (1920px)"
  artifacts:
    - path: "package.json"
      provides: "Font package dependencies"
      contains: "@fontsource-variable/plus-jakarta-sans"
    - path: "package.json"
      provides: "Font package dependencies"
      contains: "@fontsource-variable/lora"
    - path: "src/styles/app.css"
      provides: "Primitive color tokens"
      contains: "--cream-50:"
    - path: "src/styles/app.css"
      provides: "Extended coral scale"
      contains: "--coral-100:"
    - path: "src/styles/app.css"
      provides: "Fluid typography tokens"
      contains: "--text-base: clamp("
    - path: "src/styles/app.css"
      provides: "Font family tokens"
      contains: "--font-display:"
  key_links:
    - from: "src/styles/app.css"
      to: "@fontsource packages"
      via: "@import statements"
      pattern: "@import.*@fontsource-variable"
    - from: "@theme inline"
      to: "Tailwind utilities"
      via: "--color-* naming convention"
      pattern: "--color-cream-|--color-coral-"
---

<objective>
Install custom fonts and define the complete color and typography token system.

Purpose: Establish the visual DNA that all subsequent phases depend on - warm color palette, serif/sans font pairing, and fluid responsive typography.
Output: Font packages installed, CSS custom properties for colors and typography, @theme utilities available in Tailwind.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/17-foundation-tokens/17-RESEARCH.md
@.planning/phases/17-foundation-tokens/17-CONTEXT.md
@src/styles/app.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Install font packages</name>
  <files>package.json, bun.lockb</files>
  <action>
Install the variable font packages from Fontsource:

```bash
bun add @fontsource-variable/plus-jakarta-sans @fontsource-variable/lora
```

Why these packages:
- Self-hosted: No Google Fonts dependency, GDPR compliant
- Variable fonts: Single file for all weights (smaller payload)
- Fontsource: Includes font-display: swap by default, tree-shakeable
  </action>
  <verify>
Run `bun add` command. Verify packages appear in package.json dependencies.
Check: `grep -E "@fontsource-variable/(plus-jakarta-sans|lora)" package.json`
  </verify>
  <done>Both @fontsource-variable/plus-jakarta-sans and @fontsource-variable/lora are in package.json dependencies.</done>
</task>

<task type="auto">
  <name>Task 2: Define color and typography tokens</name>
  <files>src/styles/app.css</files>
  <action>
Extend app.css with the complete token system. The file structure should be:

1. **Add font @imports** at the top (after existing imports):
```css
@import "@fontsource-variable/plus-jakarta-sans";
@import "@fontsource-variable/lora";
```

2. **Add primitive color tokens** in the :root block (before existing shadcn tokens):

Warm neutrals (cream paper palette per CONTEXT.md):
```css
/* Warm neutrals - cream paper palette */
--cream-50: oklch(0.99 0.01 90);
--cream-100: oklch(0.98 0.015 85);
--cream-200: oklch(0.96 0.02 80);
--cream-300: oklch(0.94 0.025 75);
```

Extended coral scale (the existing --primary uses oklch(0.70 0.16 30), extend the scale):
```css
/* Extended coral scale */
--coral-50: oklch(0.98 0.02 30);
--coral-100: oklch(0.95 0.04 30);
--coral-200: oklch(0.90 0.08 30);
--coral-300: oklch(0.85 0.12 30);
--coral-400: oklch(0.78 0.14 30);
--coral-500: oklch(0.70 0.16 30);  /* Same as --primary */
--coral-600: oklch(0.60 0.14 30);
--coral-700: oklch(0.50 0.12 30);
--coral-800: oklch(0.40 0.10 30);
--coral-900: oklch(0.30 0.08 30);
```

Complementary teal and warm semantic colors:
```css
/* Complementary accent */
--teal-500: oklch(0.65 0.10 180);
--teal-600: oklch(0.55 0.10 180);

/* Warm-shifted semantic colors */
--success-green: oklch(0.65 0.15 145);  /* sage green */
--warning-amber: oklch(0.75 0.15 75);   /* amber */
--error-brick: oklch(0.55 0.18 25);     /* brick red */
```

3. **Add @theme inline extensions** for Tailwind utility generation:

Font families (per CONTEXT.md - Lora for headings, Plus Jakarta Sans for body):
```css
/* Typography */
--font-display: "Lora Variable", Georgia, serif;
--font-body: "Plus Jakarta Sans Variable", system-ui, sans-serif;
```

Fluid typography scale using clamp() (per RESEARCH.md):
```css
/* Fluid type scale - scales between 320px and 1440px viewport */
--text-xs: clamp(0.75rem, 0.7rem + 0.25vw, 0.875rem);
--text-sm: clamp(0.875rem, 0.8rem + 0.3vw, 1rem);
--text-base: clamp(1rem, 0.95rem + 0.25vw, 1.125rem);
--text-lg: clamp(1.125rem, 1rem + 0.5vw, 1.25rem);
--text-xl: clamp(1.25rem, 1.1rem + 0.75vw, 1.5rem);
--text-2xl: clamp(1.5rem, 1.2rem + 1.25vw, 2rem);
--text-3xl: clamp(1.875rem, 1.4rem + 1.9vw, 2.5rem);
--text-4xl: clamp(2.25rem, 1.5rem + 3vw, 3.5rem);
--text-5xl: clamp(3rem, 2rem + 4vw, 4.5rem);
```

Line height tokens:
```css
/* Line heights */
--leading-tight: 1.2;
--leading-snug: 1.3;
--leading-normal: 1.5;
--leading-relaxed: 1.6;
```

Color utilities (map primitives to Tailwind utilities):
```css
/* Color utilities - generates bg-cream-50, text-coral-500, etc. */
--color-cream-50: var(--cream-50);
--color-cream-100: var(--cream-100);
--color-cream-200: var(--cream-200);
--color-cream-300: var(--cream-300);
--color-coral-50: var(--coral-50);
--color-coral-100: var(--coral-100);
--color-coral-200: var(--coral-200);
--color-coral-300: var(--coral-300);
--color-coral-400: var(--coral-400);
--color-coral-500: var(--coral-500);
--color-coral-600: var(--coral-600);
--color-coral-700: var(--coral-700);
--color-coral-800: var(--coral-800);
--color-coral-900: var(--coral-900);
--color-teal-500: var(--teal-500);
--color-teal-600: var(--teal-600);
```

IMPORTANT:
- Keep ALL existing shadcn tokens intact (--background, --foreground, --primary, etc.)
- Add new tokens, do not replace existing ones
- The @theme inline block should be extended, not replaced
  </action>
  <verify>
1. Start dev server: `bun run dev`
2. Check for CSS compilation errors in terminal
3. Verify fonts render: Open browser devtools, inspect any text, confirm Plus Jakarta Sans or Lora appears in Computed styles font-family
4. Test Tailwind utilities work: In devtools console, verify document.documentElement.style.getPropertyValue('--cream-50') returns a value
  </verify>
  <done>
- Font @imports added and fonts render correctly (not system fonts)
- All primitive color tokens defined in :root
- @theme inline extended with font, typography, and color utilities
- Dev server runs without CSS errors
- Existing shadcn tokens remain functional
  </done>
</task>

</tasks>

<verification>
1. Run `bun run dev` - no errors, page loads
2. Open devtools -> Inspect heading text -> Computed font-family shows "Lora Variable"
3. Open devtools -> Inspect body text -> Computed font-family shows "Plus Jakarta Sans Variable"
4. Test fluid typography: Resize browser 320px to 1440px, observe font sizes scale smoothly
5. Check token availability: In devtools console run `getComputedStyle(document.documentElement).getPropertyValue('--coral-500')` - should return oklch value
6. Verify Tailwind utilities: Add `bg-cream-100` to any element temporarily, confirm warm cream background appears
</verification>

<success_criteria>
- Plus Jakarta Sans and Lora fonts render (not falling back to system fonts)
- Warm color palette (cream, coral scales) available as CSS custom properties
- Fluid typography scale responds to viewport width
- All existing shadcn/ui components continue to work (no regressions)
- Tailwind utilities generated: font-display, font-body, bg-cream-*, text-coral-*, etc.
</success_criteria>

<output>
After completion, create `.planning/phases/17-foundation-tokens/17-01-SUMMARY.md`
</output>
