---
phase: 18-core-visual-polish
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/styles/app.css
  - src/components/layout/GradientBg.tsx
  - src/components/ui/card.tsx
autonomous: true
user_setup: []

must_haves:
  truths:
    - "Warm shadow classes are available as Tailwind utilities"
    - "GradientBg component renders warm gradient backgrounds with noise texture"
    - "Card component has coral-tinted shadow instead of gray"
    - "Base radius is 12px (0.75rem) for consistent 12-16px border-radius system"
  artifacts:
    - path: "src/styles/app.css"
      provides: "Warm shadow CSS custom properties and updated radius"
      contains: "--shadow-warm"
    - path: "src/components/layout/GradientBg.tsx"
      provides: "Reusable warm background component"
      exports: ["GradientBg"]
      min_lines: 40
    - path: "src/components/ui/card.tsx"
      provides: "Card with warm shadow"
      contains: "shadow-warm"
  key_links:
    - from: "src/components/layout/GradientBg.tsx"
      to: "src/styles/app.css"
      via: "OKLCH values semantically matching token definitions (hue 30 coral, hue 90 cream)"
      pattern: "oklch\\(0\\."
---

<objective>
Create the foundation components and tokens for warm visual treatment across the app.

Purpose: Establish GradientBg component and warm shadow tokens that all page updates will use. This is the building block for Phase 18's visual polish.

Output: GradientBg.tsx component, warm shadow CSS tokens, and updated Card styling.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/18-core-visual-polish/18-RESEARCH.md
@.planning/phases/18-core-visual-polish/18-CONTEXT.md
@.planning/phases/17-foundation-tokens/17-01-SUMMARY.md

# Reference implementation for warm treatment
@src/routes/login.tsx
@src/styles/app.css
@src/components/ui/card.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update base radius to 12px for COMP-01</name>
  <files>src/styles/app.css</files>
  <action>
Update the base `--radius` value from 0.625rem (10px) to 0.75rem (12px) to establish a consistent 12-16px border-radius system per COMP-01 requirement.

In app.css, find the line:
```css
--radius: 0.625rem;
```

Change it to:
```css
--radius: 0.75rem;
```

This change cascades through the radius scale:
- --radius-sm: 8px (12px - 4px)
- --radius-md: 10px (12px - 2px)
- --radius-lg: 12px (base)
- --radius-xl: 16px (12px + 4px) - used by rounded-xl on cards
- --radius-2xl: 20px
- --radius-3xl: 24px
- --radius-4xl: 28px

The result is that `rounded-xl` (used by Card component) becomes 16px, satisfying the 12-16px target range.
  </action>
  <verify>Run `grep "radius: 0.75rem" src/styles/app.css` to confirm the update.</verify>
  <done>Base radius updated to 0.75rem (12px), making rounded-xl = 16px for consistent border-radius system.</done>
</task>

<task type="auto">
  <name>Task 2: Add warm shadow tokens to CSS</name>
  <files>src/styles/app.css</files>
  <action>
Add warm shadow CSS custom properties to the `:root` section in app.css. These shadows use OKLCH coral tint (hue 30) matching the existing coral palette.

Add these tokens after the transform tokens section:

```css
/* ==========================================================================
   WARM SHADOW TOKENS - Coral-tinted shadows for warmth
   ========================================================================== */
--shadow-warm-sm: 0 1px 2px oklch(0.70 0.04 30 / 0.06);
--shadow-warm: 0 4px 12px oklch(0.70 0.06 30 / 0.08);
--shadow-warm-md: 0 8px 24px oklch(0.70 0.08 30 / 0.12);
--shadow-warm-lg: 0 12px 40px oklch(0.70 0.08 30 / 0.15);
```

Also add to the `@theme inline` block to generate Tailwind utilities:

```css
/* ==========================================================================
   SHADOW UTILITIES - generates shadow-warm-*, etc.
   ========================================================================== */
--shadow-warm-sm: var(--shadow-warm-sm);
--shadow-warm: var(--shadow-warm);
--shadow-warm-md: var(--shadow-warm-md);
--shadow-warm-lg: var(--shadow-warm-lg);
```

Note: The @theme inline references need the same names as the :root definitions for Tailwind to pick them up.
  </action>
  <verify>Run `bun run lint` to verify CSS syntax is valid. Grep for `shadow-warm` in app.css to confirm tokens exist.</verify>
  <done>Four warm shadow tokens defined in :root and exposed via @theme inline for Tailwind utility generation.</done>
</task>

<task type="auto">
  <name>Task 3: Create GradientBg component</name>
  <files>src/components/layout/GradientBg.tsx</files>
  <action>
Create a new file `src/components/layout/GradientBg.tsx` that provides reusable warm background with gradient and noise texture.

Extract the pattern from login.tsx into a reusable component with variants:
- `radial` (default): Radial gradient from center, used for centered content like login
- `linear`: Diagonal gradient, good for long scrollable pages
- `subtle`: Very soft vertical gradient, minimal warmth for dense content

Implementation:

```tsx
import { cn } from "~/lib/utils";

interface GradientBgProps {
  variant?: "radial" | "linear" | "subtle";
  children: React.ReactNode;
  className?: string;
}

export function GradientBg({
  variant = "radial",
  children,
  className,
}: GradientBgProps) {
  const gradients = {
    radial: `radial-gradient(ellipse at center, oklch(0.99 0.01 90) 0%, oklch(0.97 0.02 30) 70%, oklch(0.95 0.04 30) 100%)`,
    linear: `linear-gradient(135deg, oklch(0.99 0.01 90) 0%, oklch(0.97 0.02 30) 100%)`,
    subtle: `linear-gradient(180deg, oklch(0.99 0.005 90) 0%, oklch(0.98 0.01 85) 100%)`,
  };

  // Noise texture SVG (2-3% opacity per CONTEXT.md)
  const noise = `url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.03'/%3E%3C/svg%3E")`;

  return (
    <div
      className={cn("min-h-screen", className)}
      style={{
        background: gradients[variant],
        backgroundImage: `${gradients[variant]}, ${noise}`,
      }}
    >
      {children}
    </div>
  );
}
```

Use cream-adjacent OKLCH values (hue 90 for cream, hue 30 for coral warmth) to match Phase 17 tokens.
  </action>
  <verify>Run `bun run lint` to verify TypeScript compiles. Import the component in a test: `import { GradientBg } from "~/components/layout/GradientBg"`</verify>
  <done>GradientBg component exists with radial, linear, and subtle variants, all including noise texture overlay.</done>
</task>

<task type="auto">
  <name>Task 4: Update Card component with warm shadow</name>
  <files>src/components/ui/card.tsx</files>
  <action>
Update the Card component to use warm coral-tinted shadow instead of gray shadow-sm.

In the Card function, change:
```tsx
// FROM:
className={cn(
  "bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",
  className
)}

// TO:
className={cn(
  "bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-warm",
  className
)}
```

This applies the warm shadow token created in Task 1. The `shadow-warm` class will be generated by Tailwind from the @theme inline definition.
  </action>
  <verify>Run `bun run lint` to verify. Check that shadow-warm class is in card.tsx: `grep -n "shadow-warm" src/components/ui/card.tsx`</verify>
  <done>Card component uses shadow-warm class, giving all cards coral-tinted shadows throughout the app.</done>
</task>

</tasks>

<verification>
- [ ] `grep "radius: 0.75rem" src/styles/app.css` confirms base radius is 12px
- [ ] `grep -r "shadow-warm" src/styles/app.css` shows 8 matches (4 in :root, 4 in @theme)
- [ ] `src/components/layout/GradientBg.tsx` exists and exports GradientBg
- [ ] `grep "shadow-warm" src/components/ui/card.tsx` shows the Card using warm shadow
- [ ] `bun run lint` passes with no errors
- [ ] `bun run build` succeeds
</verification>

<success_criteria>
- Base radius updated to 0.75rem (12px), making rounded-xl = 16px for COMP-01 compliance
- Warm shadow tokens (--shadow-warm-sm through --shadow-warm-lg) defined in app.css
- GradientBg component created with 3 variants (radial, linear, subtle)
- Card component updated to use shadow-warm instead of shadow-sm
- All lint and build checks pass
</success_criteria>

<output>
After completion, create `.planning/phases/18-core-visual-polish/18-01-SUMMARY.md`
</output>
