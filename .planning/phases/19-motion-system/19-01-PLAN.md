---
phase: 19-motion-system
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/animation/AnimatedCard.tsx
  - src/components/ui/card.tsx
  - src/components/ui/button.tsx
autonomous: true
user_setup: []

must_haves:
  truths:
    - 'Cards visually lift and intensify shadow on hover'
    - 'Buttons compress slightly when pressed'
    - 'AnimatedCard component enables staggered entrance animation'
  artifacts:
    - path: 'src/components/animation/AnimatedCard.tsx'
      provides: 'Reusable entrance animation wrapper with stagger support'
      exports: ['AnimatedCard']
    - path: 'src/components/ui/card.tsx'
      provides: 'Card with hover lift and shadow transition'
      contains: 'hover:-translate-y'
    - path: 'src/components/ui/button.tsx'
      provides: 'Button with press squish feedback'
      contains: 'active:scale'
  key_links:
    - from: 'src/components/animation/AnimatedCard.tsx'
      to: 'tw-animate-css utilities'
      via: 'Tailwind class composition'
      pattern: 'animate-in.*fade-in.*slide-in'
---

<objective>
Create the core animation components and behaviors that enable purposeful motion throughout the app.

Purpose: Establishes reusable animation primitives that reinforce the warm aesthetic - cards that feel tangible through lift/shadow, buttons that feel pressable, and entrance animations that create visual rhythm.

Output: AnimatedCard component, enhanced Card with hover effects, enhanced Button with press feedback.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/19-motion-system/19-RESEARCH.md

# Existing tokens in app.css (Phase 17)

@src/styles/app.css

# Components to enhance

@src/components/ui/card.tsx
@src/components/ui/button.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create AnimatedCard component</name>
  <files>src/components/animation/AnimatedCard.tsx</files>
  <action>
Create `src/components/animation/AnimatedCard.tsx` as a reusable entrance animation wrapper with stagger support.

The component should:

1. Accept `index` prop for stagger delay calculation
2. Accept `children` and optional `className`
3. Use tw-animate-css utilities: `animate-in fade-in slide-in-from-bottom-2 duration-300`
4. Apply `animationFillMode: 'backwards'` to prevent flash before animation
5. Cap stagger at 9 items (450ms max delay): `animationDelay: Math.min(index, 9) * 50 + 'ms'`
6. Export as named export for use in list components

Interface:

```tsx
interface AnimatedCardProps {
  index: number
  children: React.ReactNode
  className?: string
}
```

Use cn() from ~/lib/utils to merge className props.
</action>
<verify>File exists at src/components/animation/AnimatedCard.tsx with correct interface and styling</verify>
<done>AnimatedCard component exists and exports properly typed component with stagger animation support</done>
</task>

<task type="auto">
  <name>Task 2: Add hover lift and shadow transition to Card</name>
  <files>src/components/ui/card.tsx</files>
  <action>
Update the Card component in `src/components/ui/card.tsx` to add hover lift and shadow transition.

In the Card function, update the className to add these classes:

- `transition-all` - smooth all property transitions
- `duration-200` - 200ms duration (within 150-300ms range)
- `ease-[var(--ease-gentle)]` - use the gentle easing token
- `hover:-translate-y-0.5` - subtle lift on hover (2px)
- `hover:shadow-warm-md` - intensify shadow on hover
- `active:translate-y-0` - return to base on press
- `active:shadow-warm-sm` - subtle shadow when pressed

The existing `shadow-warm` class provides the base shadow. The hover state escalates to `shadow-warm-md`.

Keep all existing classes intact (bg-card, text-card-foreground, flex flex-col gap-6, rounded-xl, border, py-6).
</action>
<verify>Card component has transition, hover, and active classes. Visual inspection shows lift effect on hover.</verify>
<done>Card lifts 2px on hover with shadow-warm-md, returns on press with shadow-warm-sm</done>
</task>

<task type="auto">
  <name>Task 3: Add press squish feedback to Button</name>
  <files>src/components/ui/button.tsx</files>
  <action>
Update the Button component in `src/components/ui/button.tsx` to add press squish feedback.

In the buttonVariants cva() base classes, add:

- `active:scale-[0.97]` - squish to 97% on press (uses --scale-press token value)

The existing classes already include `transition-all` which will animate the scale change.

IMPORTANT:

- Do NOT add active:scale to the `link` variant (links shouldn't squish)
- The base cva includes all variants, so add a NOT condition or handle in variant-specific way

Approach: Add `active:scale-[0.97]` to the base classes. Then in the `link` variant, add `active:scale-100` to override and prevent squish on links.
</action>
<verify>Run `bun run lint` to verify no errors. Buttons show squish on click (except link variant).</verify>
<done>All button variants (except link) compress to 97% on press and return smoothly</done>
</task>

</tasks>

<verification>
1. AnimatedCard component exists and TypeScript compiles without errors
2. Card shows lift effect on hover (visible shadow change and slight upward movement)
3. Button shows squish effect on press (scale down to 97%)
4. Link variant buttons do NOT squish
5. All animations respect --ease-gentle timing
6. `bun run lint` passes
</verification>

<success_criteria>

- AnimatedCard component created with stagger support
- Card has hover lift (translate-y) and shadow transition
- Button has press squish (scale 97%)
- No TypeScript or lint errors
- Animation tokens from Phase 17 are utilized
  </success_criteria>

<output>
After completion, create `.planning/phases/19-motion-system/19-01-SUMMARY.md`
</output>
