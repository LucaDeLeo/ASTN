---
phase: 20-polish-integration
plan: 03
type: execute
wave: 3
depends_on: ["20-02"]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "LCP is under 2.5s (preferably under 1.5s per CONTEXT.md)"
    - "CLS is under 0.1"
    - "Dark mode looks intentional and warm"
    - "Focus states are visible and on-brand"
    - "Empty states feel friendly"
  artifacts: []
  key_links: []
---

<objective>
Verify Core Web Vitals performance and conduct visual verification of the complete v1.3 visual system.

Purpose: Ensure performance targets are met and the visual polish achieved in Phases 17-20 creates a cohesive, warm experience that works for all users.

Output: Performance metrics validated, visual verification complete, v1.3 milestone ready for completion.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/20-polish-integration/20-CONTEXT.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Verify Core Web Vitals</name>
  <files></files>
  <action>
Run performance checks to validate LCP and CLS targets.

**Method 1: Lighthouse CLI (if available)**
```bash
# Run Lighthouse on the home page
npx lighthouse http://localhost:5173 --only-categories=performance --output=json --output-path=./lighthouse-report.json
# Extract LCP and CLS from report
cat lighthouse-report.json | jq '.audits["largest-contentful-paint"].numericValue, .audits["cumulative-layout-shift"].numericValue'
```

**Method 2: Chrome DevTools (manual)**
1. Open http://localhost:5173 in Chrome
2. Open DevTools > Performance tab
3. Click reload button (with "Screenshots" and "Web Vitals" checked)
4. After load, check "Timings" section for LCP
5. Check "Experience" section for CLS

**Method 3: Web Vitals extension (if user has it)**
Report the metrics shown in the extension overlay.

**Targets:**
- LCP < 2.5s (green), ideally < 1.5s per CONTEXT.md
- CLS < 0.1 (green)

**If metrics are poor:**
- Check if fonts are blocking (font-display: swap should prevent this)
- Check for layout shifts from theme initialization
- Check for large images or slow API calls

**Additional checks:**
1. Verify prefers-reduced-motion is respected:
   - Set OS to reduce motion
   - Confirm animations are disabled (instant transitions)
2. Verify no console errors on page load
3. Verify no hydration warnings
  </action>
  <verify>
LCP < 2.5s, CLS < 0.1 confirmed via Lighthouse or DevTools measurement.
  </verify>
  <done>Performance metrics meet targets: LCP and CLS within acceptable ranges.</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
Complete v1.3 Visual Overhaul implementation across Phases 17-20:
- Phase 17: Design tokens, fonts, color system (OKLCH)
- Phase 18: Warm backgrounds, coral shadows, typography
- Phase 19: Motion system (hover, stagger, transitions)
- Phase 20: Dark mode, focus states, empty states
  </what-built>
  <how-to-verify>
**Test the complete visual system:**

1. **Light mode baseline** (http://localhost:5173)
   - [ ] Warm off-white backgrounds (not flat gray)
   - [ ] Coral-tinted shadows on cards
   - [ ] Lora font for headings, Plus Jakarta Sans for body
   - [ ] Cards lift on hover
   - [ ] Staggered entrance on list pages

2. **Dark mode** (click theme toggle in header)
   - [ ] Soft charcoal background (not OLED black)
   - [ ] Coral accent preserved (buttons still coral)
   - [ ] Subtle warm glow on shadows
   - [ ] Text readable (warm off-white)
   - [ ] Toggle works: Light / Dark / System

3. **Theme persistence**
   - [ ] Set to Dark, refresh page - stays dark
   - [ ] No flash of light theme on load
   - [ ] System option follows OS preference

4. **Keyboard accessibility**
   - [ ] Tab through page - see coral focus rings
   - [ ] Focus ring visible in both light and dark modes
   - [ ] Ring has subtle glow effect

5. **Empty states** (navigate to /opportunities with no results, or filter to empty)
   - [ ] SVG illustration in coral
   - [ ] Friendly copy ("Nothing here yet")
   - [ ] Adapts to dark mode

6. **Reduced motion** (optional - set OS to reduce motion)
   - [ ] Animations disabled, only fades remain

**Pages to verify:**
- Home (/)
- Opportunities (/opportunities)
- Matches (/matches)
- Profile (/profile)
- Login (/login)
  </how-to-verify>
  <resume-signal>
Type "approved" if the visual system looks complete and polished.
If issues found, describe them for follow-up fixes.
  </resume-signal>
</task>

</tasks>

<verification>
1. LCP < 2.5s confirmed
2. CLS < 0.1 confirmed
3. Dark mode visually reviewed and approved
4. Focus states visually reviewed and approved
5. Empty states visually reviewed and approved
6. All 4 success criteria from roadmap confirmed
</verification>

<success_criteria>
- Core Web Vitals: LCP < 2.5s, CLS < 0.1
- Dark mode: Intentional coral-based palette (Success Criterion 1)
- Focus states: Visible coral ring on all interactive elements (Success Criterion 2)
- Empty states: Warm visual treatment with illustration (Success Criterion 3)
- Performance maintained (Success Criterion 4)
</success_criteria>

<output>
After completion, create `.planning/phases/20-polish-integration/20-03-SUMMARY.md`

If this is approved, Phase 20 and v1.3 Visual Overhaul milestone are complete.
Next: `/gsd:complete-milestone` to archive v1.3.
</output>
