---
phase: 22-mobile-navigation
plan: 03
type: execute
wave: 2
depends_on: [22-01]
files_modified:
  - src/components/ui/sheet.tsx
  - src/components/layout/hamburger-menu.tsx
autonomous: true

must_haves:
  truths:
    - "User can access Admin, Help, and Logout via hamburger menu"
    - "Hamburger menu slides from right edge with animation"
    - "Menu shows user avatar and name at top"
  artifacts:
    - path: "src/components/ui/sheet.tsx"
      provides: "Sheet component with side positioning (left/right/top/bottom)"
      exports: ["Sheet", "SheetContent", "SheetTrigger", "SheetClose", "SheetHeader", "SheetTitle", "SheetDescription"]
      min_lines: 80
    - path: "src/components/layout/hamburger-menu.tsx"
      provides: "Hamburger menu with Admin, Help, Logout items"
      exports: ["HamburgerMenu"]
      min_lines: 50
  key_links:
    - from: "src/components/layout/hamburger-menu.tsx"
      to: "src/components/ui/sheet.tsx"
      via: "Sheet with side=right"
      pattern: "side=\"right\""
    - from: "src/components/layout/hamburger-menu.tsx"
      to: "@convex-dev/auth/react"
      via: "signOut action"
      pattern: "signOut"
---

<objective>
Create Sheet component and HamburgerMenu for secondary navigation.

Purpose: The hamburger menu provides access to Admin, Help, and Logout - items that don't need prominent placement in the bottom tab bar.

Output: A reusable Sheet component (slide-from-side panel) and HamburgerMenu that uses it with side="right" for the slide-in effect.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/22-mobile-navigation/22-CONTEXT.md
@.planning/phases/22-mobile-navigation/22-RESEARCH.md
@src/components/ui/dialog.tsx (base primitive to extend)
@src/components/ui/responsive-sheet.tsx (shows Dialog reuse pattern)
@src/components/layout/auth-header.tsx (shows UserMenu pattern with signOut)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Sheet component</name>
  <files>src/components/ui/sheet.tsx</files>
  <action>
Create a Sheet component based on Radix Dialog primitives. This is similar to how ResponsiveSheet works but with explicit side positioning and slide animations.

Follow the shadcn/ui sheet pattern:
1. Base it on @radix-ui/react-dialog (already imported in dialog.tsx)
2. Create SheetContent with a `side` prop: "left" | "right" | "top" | "bottom" (default "right")
3. Positioning based on side:
   - left: "inset-y-0 left-0 h-full w-3/4 sm:max-w-sm border-r"
   - right: "inset-y-0 right-0 h-full w-3/4 sm:max-w-sm border-l"
   - top: "inset-x-0 top-0 w-full border-b"
   - bottom: "inset-x-0 bottom-0 w-full border-t"
4. Slide animations using Tailwind animate-in/animate-out:
   - left: slide-in-from-left / slide-out-to-left
   - right: slide-in-from-right / slide-out-to-right
   - top: slide-in-from-top / slide-out-to-top
   - bottom: slide-in-from-bottom / slide-out-to-bottom
5. Export: Sheet, SheetTrigger, SheetClose, SheetContent, SheetHeader, SheetTitle, SheetDescription, SheetFooter

Use the same DialogOverlay and DialogPortal from dialog.tsx. SheetContent should have position: fixed.
  </action>
  <verify>
1. Read the file and confirm side prop with positioning variants
2. Confirm slide animations for each side
3. Confirm all exports are present
  </verify>
  <done>Sheet component exists with left/right/top/bottom positioning and appropriate slide animations</done>
</task>

<task type="auto">
  <name>Task 2: Create HamburgerMenu component</name>
  <files>src/components/layout/hamburger-menu.tsx</files>
  <action>
Create the HamburgerMenu component per CONTEXT.md decisions:
- Trigger: hamburger icon button (Menu from lucide-react)
- Animation: slide from right edge (uses Sheet with side="right")
- Shows user avatar + name at top (tapping goes to profile)
- Contains: Admin, Help, Logout items

Implementation:
1. Import Sheet components from ~/components/ui/sheet
2. Import useAuthActions from @convex-dev/auth/react for signOut
3. Import Link from @tanstack/react-router
4. Accept props: user: { name: string; avatarUrl?: string } | null
5. Manage open state with useState to close on navigation
6. Structure:
   - SheetTrigger: Button with Menu icon, size="icon", variant="ghost", touch-target class
   - SheetContent side="right" className="w-[280px]"
   - SheetHeader with Link to /profile (closes sheet), shows Avatar + name
   - Nav section with:
     - Admin link (Shield icon) - to="/admin"
     - Help link (HelpCircle icon) - to="/help" (or external if no help page)
     - Logout button (LogOut icon) - calls signOut(), text-destructive
7. Each nav item: flex items-center gap-3, rounded-md hover:bg-accent, py-2 px-3
8. Close sheet on navigation by calling setOpen(false) in onClick handlers

Icons from lucide-react: Menu, Shield, HelpCircle, LogOut
  </action>
  <verify>
1. Read file and confirm Sheet with side="right" is used
2. Confirm Admin, Help, Logout items are present with correct icons
3. Confirm user avatar/name header links to profile
4. Confirm signOut is called on Logout
  </verify>
  <done>HamburgerMenu component slides from right with Admin, Help, Logout items and user header</done>
</task>

</tasks>

<verification>
1. Sheet exists: `ls src/components/ui/sheet.tsx`
2. HamburgerMenu exists: `ls src/components/layout/hamburger-menu.tsx`
3. Side positioning: `grep "side=\"right\"" src/components/layout/hamburger-menu.tsx`
4. Logout action: `grep "signOut" src/components/layout/hamburger-menu.tsx`
</verification>

<success_criteria>
- Sheet component provides reusable slide-from-side panel with 4 positioning options
- HamburgerMenu slides from right edge when triggered
- Menu contains Admin, Help, Logout with appropriate icons
- User avatar and name appear at top, linking to profile
- Logout properly signs out the user
</success_criteria>

<output>
After completion, create `.planning/phases/22-mobile-navigation/22-03-SUMMARY.md`
</output>
