---
phase: 26-ux-polish
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - package.json
  - bun.lock
  - src/styles/app.css
  - src/routes/__root.tsx
autonomous: true

must_haves:
  truths:
    - 'User sees headings in Space Grotesk font (geometric, technical feel)'
    - 'User sees body text in Plus Jakarta Sans (unchanged)'
    - 'Page loads with consistent typography (no font shifting)'
  artifacts:
    - path: 'src/styles/app.css'
      provides: 'Font imports and --font-display token'
      contains: '@fontsource-variable/space-grotesk'
    - path: 'src/routes/__root.tsx'
      provides: 'Font preload for fast loading'
      contains: 'space-grotesk'
  key_links:
    - from: 'src/routes/__root.tsx'
      to: '@fontsource-variable/space-grotesk'
      via: 'import with ?url suffix'
      pattern: 'space-grotesk.*woff2.*url'
---

<objective>
Replace the serif display font (Lora) with Space Grotesk, a geometric sans-serif that conveys technical seriousness appropriate for AI Safety.

Purpose: Transform the typography from soft/generic to technical/professional without losing readability.
Output: Headings use Space Grotesk, body text remains Plus Jakarta Sans, no font loading flash.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/26-ux-polish/26-RESEARCH.md

# Relevant source files

@src/styles/app.css
@src/routes/\_\_root.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Install and configure Space Grotesk font</name>
  <files>package.json, src/styles/app.css</files>
  <action>
1. Install the Space Grotesk variable font package:
```bash
bun add @fontsource-variable/space-grotesk
```

2. Update `src/styles/app.css` font imports:

Replace:

```css
@import '@fontsource-variable/lora';
```

With:

```css
@import '@fontsource-variable/space-grotesk';
```

3. Update the `--font-display` token in the `@theme inline` block:

Replace:

```css
--font-display: 'Lora Variable', Georgia, serif;
```

With:

```css
--font-display: 'Space Grotesk Variable', system-ui, sans-serif;
```

This changes the fallback from serif (Georgia) to sans-serif (system-ui) since Space Grotesk is a sans-serif font.

4. Verify the font is used by checking that `.font-display` class and any `font-display` utility references will now use Space Grotesk.
   </action>
   <verify>
1. Run `bun install` to ensure lock file is updated
1. Verify bun.lock updated: `grep -q "space-grotesk" bun.lock && echo "Lock file updated"`
1. Run the dev server: `bun run dev`
1. Check that headings appear in Space Grotesk (geometric, technical look vs Lora's serif)
1. Check the network tab - Space Grotesk woff2 should load
1. Run `bun run lint` - no TypeScript errors
   </verify>
   <done>

- Space Grotesk package installed
- app.css imports Space Grotesk instead of Lora
- --font-display token points to Space Grotesk
  </done>
  </task>

<task type="auto">
  <name>Task 2: Update font preloads to prevent FOIT</name>
  <files>src/routes/__root.tsx</files>
  <action>
Update the font preloads in __root.tsx to use Space Grotesk instead of Lora.

1. Find the font preload imports (look for @fontsource-variable imports with ?url suffix):

```typescript
import loraWoff2 from '@fontsource-variable/lora/files/lora-latin-wght-normal.woff2?url'
```

2. Replace with Space Grotesk:

```typescript
import spaceGroteskWoff2 from '@fontsource-variable/space-grotesk/files/space-grotesk-latin-wght-normal.woff2?url'
```

3. Update the preload link in the head section (inside RootDocument or similar):

```tsx
<link
  rel="preload"
  href={spaceGroteskWoff2}
  as="font"
  type="font/woff2"
  crossOrigin="anonymous"
/>
```

4. Remove any Lora preload links.

5. Keep the Plus Jakarta Sans preload unchanged (body font remains the same).

Note: The exact file path may vary. Check @fontsource-variable/space-grotesk package for the correct woff2 path. Common patterns:

- `files/space-grotesk-latin-wght-normal.woff2`
- `files/space-grotesk-latin-full-normal.woff2`
  </action>
  <verify>

1. Run the dev server with network throttling (slow 3G in DevTools)
2. Hard refresh the page
3. Headings should NOT flash from system font to Space Grotesk (preload prevents this)
4. Check Network tab - Space Grotesk woff2 appears BEFORE first contentful paint
5. Run `bun run build` - no build errors
   </verify>
   <done>

- Font preload updated to Space Grotesk
- No flash of unstyled text (FOIT) on page load
- Build and dev server work correctly
  </done>
  </task>

</tasks>

<verification>
After all tasks complete:
1. All headings with `font-display` class show Space Grotesk
2. Body text remains in Plus Jakarta Sans
3. No FOIT on page load (even on slow connections)
4. Font loads from preload, not lazy-loaded
5. `bun run lint` passes
6. `bun run build` succeeds
7. Both light and dark modes look correct
</verification>

<success_criteria>

1. Typography uses Space Grotesk for display/headings (technical, geometric feel)
2. Plus Jakarta Sans remains for body text (readable, friendly)
3. Fonts load without flash of unstyled text
4. No regression in existing pages
   </success_criteria>

<output>
After completion, create `.planning/phases/26-ux-polish/26-02-SUMMARY.md`
</output>
