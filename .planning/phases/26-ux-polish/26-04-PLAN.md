---
phase: 26-ux-polish
plan: 04
type: execute
wave: 2
depends_on: ["26-01", "26-02", "26-03"]
files_modified:
  - src/styles/app.css
  - src/components/matches/MatchCard.tsx
  - src/components/opportunities/opportunity-detail.tsx
autonomous: true

must_haves:
  truths:
    - "User sees navy/slate as the dominant color (professional, serious)"
    - "User sees coral used as accent color (CTAs, highlights, not primary)"
    - "User can read all text clearly in dark mode (4.5:1 minimum contrast)"
    - "Gradients maintain visual warmth while using new palette"
  artifacts:
    - path: "src/styles/app.css"
      provides: "Navy/slate primitive tokens and updated semantic mapping"
      contains: "--navy-"
    - path: "src/styles/app.css"
      provides: "Updated gradient backgrounds with navy base"
      contains: "gradient-bg"
  key_links:
    - from: "semantic tokens"
      to: "navy primitives"
      via: "--primary: var(--navy-*)"
      pattern: "--primary.*navy"
---

<objective>
Evolve the color palette from coral/cream (generic) to navy/slate with coral accents (professional, AI Safety appropriate). Fix dark mode contrast issues.

Purpose: Transform the visual identity to convey seriousness and professionalism appropriate for AI Safety work.
Output: Navy/slate primary colors, coral as accent, proper dark mode contrast, updated gradients.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/review/ux-review.md
@.planning/phases/26-ux-polish/26-RESEARCH.md

# Relevant source files
@src/styles/app.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add navy/slate primitives and update semantic tokens</name>
  <files>src/styles/app.css</files>
  <action>
Add navy/slate color primitives and remap semantic tokens to create a more professional palette.

1. In the `:root` section, add navy/slate primitive tokens AFTER the cream/coral primitives:
```css
/* Navy/slate palette - professional, serious (primary hue = 240 in OKLCH) */
--navy-900: oklch(0.20 0.04 250);   /* Deepest navy - text on light bg */
--navy-800: oklch(0.25 0.04 250);   /* Primary buttons */
--navy-700: oklch(0.32 0.04 250);   /* Hover states */
--navy-600: oklch(0.40 0.03 250);   /* Secondary elements */
--slate-500: oklch(0.50 0.02 250);  /* Muted text */
--slate-400: oklch(0.60 0.02 250);  /* Borders, dividers */
--slate-300: oklch(0.70 0.01 250);  /* Light backgrounds */
--slate-200: oklch(0.85 0.01 250);  /* Subtle backgrounds */
--slate-100: oklch(0.95 0.005 250); /* Near-white */
```

2. Update the semantic tokens in `:root` to use navy as primary:
```css
/* Primary - Navy (professional, serious) */
--primary: var(--navy-800);
--primary-foreground: oklch(0.98 0.01 90);  /* Warm white */

/* Keep coral as accent for CTAs and highlights */
--accent: oklch(0.70 0.16 30);  /* Original coral */
--accent-foreground: oklch(0.98 0.01 90);

/* Update ring to navy */
--ring: var(--navy-700);
```

3. Update sidebar tokens to match:
```css
--sidebar-primary: var(--navy-800);
--sidebar-primary-foreground: oklch(0.98 0.01 90);
--sidebar-ring: var(--navy-700);
```

4. In the `.dark` section, update for dark mode:
```css
/* Primary in dark mode - lighter navy for visibility */
--primary: oklch(0.55 0.08 250);  /* Lighter navy visible on dark bg */
--primary-foreground: oklch(0.16 0.005 30);

/* Accent - brighter coral for dark mode visibility */
--accent: oklch(0.75 0.18 30);  /* Brighter coral */
--accent-foreground: oklch(0.16 0.005 30);

/* Ring - matches primary */
--ring: oklch(0.55 0.08 250);
```

Note: The change from coral primary to navy primary will automatically update:
- Primary buttons (now navy)
- Links with primary color
- Focus rings
- Active indicators (from Plan 01)
  </action>
  <verify>
1. Run the dev server
2. Check primary buttons (Sign In, Apply Now) - should be navy
3. Check links and interactive elements - navy tint
4. Toggle dark mode - primary should be visible navy
5. Verify coral accent still appears where used (eg: match tier badges use custom colors, not primary)
6. Run `bun run lint` - CSS parses correctly
  </verify>
  <done>
- Navy/slate primitives added to app.css
- --primary remapped to navy-800 (light) / lighter navy (dark)
- --accent remains coral for CTA highlights
- Dark mode primary is visible against dark background
  </done>
</task>

<task type="auto">
  <name>Task 2: Update gradient backgrounds</name>
  <files>src/styles/app.css</files>
  <action>
Update the gradient background classes to use navy/slate base while maintaining visual warmth.

The current gradients use coral-tinted cream. Update to navy-tinted slate with subtle warmth.

1. Update `.gradient-bg-radial` (light mode):
```css
.gradient-bg-radial {
  background: radial-gradient(ellipse at center, oklch(0.98 0.005 250) 0%, oklch(0.96 0.01 250) 70%, oklch(0.94 0.015 250) 100%);
  background-image: radial-gradient(ellipse at center, oklch(0.98 0.005 250) 0%, oklch(0.96 0.01 250) 70%, oklch(0.94 0.015 250) 100%),
    url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.03'/%3E%3C/svg%3E");
}
```

2. Update `.dark .gradient-bg-radial` (dark mode):
```css
.dark .gradient-bg-radial {
  background: radial-gradient(ellipse at center, oklch(0.22 0.01 250) 0%, oklch(0.18 0.008 250) 60%, oklch(0.16 0.005 250) 100%);
  background-image: radial-gradient(ellipse at center, oklch(0.22 0.01 250) 0%, oklch(0.18 0.008 250) 60%, oklch(0.16 0.005 250) 100%),
    url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.01'/%3E%3C/svg%3E");
}
```

3. Similarly update `.gradient-bg-linear` and `.gradient-bg-subtle`:
- Replace hue 30 (coral) with hue 250 (navy/slate)
- Keep similar lightness values for proper contrast
- Maintain noise texture overlay

4. Update the `--gradient-*` CSS variables in `:root` and `.dark`:
```css
:root {
  --gradient-radial: radial-gradient(ellipse at center, oklch(0.98 0.005 250) 0%, oklch(0.96 0.01 250) 70%, oklch(0.94 0.015 250) 100%);
  --gradient-linear: linear-gradient(135deg, oklch(0.98 0.005 250) 0%, oklch(0.96 0.01 250) 100%);
  --gradient-subtle: linear-gradient(180deg, oklch(0.99 0.003 250) 0%, oklch(0.97 0.008 250) 100%);
}

.dark {
  --gradient-radial: radial-gradient(ellipse at center, oklch(0.22 0.01 250) 0%, oklch(0.18 0.008 250) 60%, oklch(0.16 0.005 250) 100%);
  --gradient-linear: linear-gradient(135deg, oklch(0.20 0.01 250) 0%, oklch(0.16 0.005 250) 100%);
  --gradient-subtle: linear-gradient(180deg, oklch(0.19 0.008 250) 0%, oklch(0.16 0.005 250) 100%);
}
```

5. Update warm shadow tokens to use navy tint instead of coral:
```css
:root {
  --shadow-warm-sm: 0 1px 2px oklch(0.30 0.02 250 / 0.06);
  --shadow-warm: 0 4px 12px oklch(0.30 0.02 250 / 0.08);
  --shadow-warm-md: 0 8px 24px oklch(0.30 0.02 250 / 0.12);
  --shadow-warm-lg: 0 12px 40px oklch(0.30 0.02 250 / 0.15);
}
```
  </action>
  <verify>
1. Run the dev server
2. View pages with gradient backgrounds (home, login)
3. Verify gradients have subtle navy/slate tint instead of coral/cream
4. Toggle dark mode - gradients should adapt properly
5. Verify noise texture is still visible
6. Check shadows on cards - should have subtle navy tint
  </verify>
  <done>
- Gradient backgrounds use navy/slate hue (250) instead of coral (30)
- Both light and dark mode gradients updated
- Shadow tokens use navy tint
- Visual warmth maintained through slight chroma
  </done>
</task>

<task type="auto">
  <name>Task 3: Fix hardcoded colors and dark mode contrast</name>
  <files>src/components/matches/MatchCard.tsx, src/components/opportunities/opportunity-detail.tsx, src/styles/app.css</files>
  <action>
Audit and fix hardcoded color classes that don't adapt to dark mode.

1. In `src/components/matches/MatchCard.tsx`, find and replace hardcoded colors:
- `text-slate-600` -> `text-muted-foreground`
- `text-slate-500` -> `text-muted-foreground`

Look for these specific instances:
```tsx
// Line ~146: Organization and location
<p className="text-sm text-slate-600">

// Line ~157: Strength text
<p ... className="mt-3 text-sm text-slate-600">

// Line ~165: Probability/deadline row
<div className="mt-3 flex flex-wrap items-center gap-x-3 gap-y-1 text-xs text-slate-500">
```

Replace all with appropriate semantic classes.

2. In `src/components/opportunities/opportunity-detail.tsx`:
- Check for any `text-slate-*` or `bg-slate-*` classes
- Replace with semantic tokens (`text-muted-foreground`, `bg-muted`, etc.)
- Check the source attribution section at bottom

3. In `src/styles/app.css`, verify dark mode contrast:
- `--muted-foreground` should have at least 4.5:1 contrast against `--background`
- Current: `oklch(0.65 0.02 90)` against `oklch(0.16 0.005 30)`

Calculate contrast and adjust if needed. The current values should be adequate, but verify visually.

4. Add a comment in app.css documenting the contrast ratios:
```css
.dark {
  /* Contrast ratios (verified):
   * --foreground on --background: ~12:1
   * --muted-foreground on --background: ~5:1
   * --primary on --background: ~4.5:1
   */
}
```

5. If any other components have hardcoded colors discovered during testing, fix them:
- Search codebase for `text-slate-` and `bg-slate-` patterns
- Replace with semantic equivalents where appropriate
  </action>
  <verify>
1. Run the dev server
2. Enable dark mode
3. Navigate through all main pages:
   - /opportunities
   - /matches
   - /profile
   - Match detail
   - Opportunity detail
4. Verify all text is readable (no low-contrast text)
5. Check cards, badges, buttons for proper dark mode appearance
6. Run `bun run lint` - no errors
7. Run `bun run build` - successful
  </verify>
  <done>
- Hardcoded slate-* colors replaced with semantic tokens
- All text readable in dark mode (4.5:1 minimum contrast)
- No visual regressions in light mode
- Components adapt correctly to both themes
  </done>
</task>

</tasks>

<verification>
After all tasks complete:
1. Navy/slate is the dominant color (buttons, links, accents)
2. Coral appears only as accent (CTAs, highlights)
3. Gradients have subtle navy tint
4. Dark mode text is readable everywhere
5. All view transitions still work
6. `bun run lint` passes
7. `bun run build` succeeds
8. Both light and dark modes look professional and cohesive
</verification>

<success_criteria>
1. Color palette conveys AI Safety seriousness (navy/slate primary)
2. Coral is used as accent, not primary color
3. Dark mode has proper contrast (4.5:1 minimum for all text)
4. Gradients maintain visual warmth with navy base
5. No hardcoded colors that break dark mode
</success_criteria>

<output>
After completion, create `.planning/phases/26-ux-polish/26-04-SUMMARY.md`
</output>
